# 右键菜单保存功能

## 功能说明

在任何网站上选中文本后，右键菜单中会出现"保存到 Notes"选项，可以快速将选中的内容保存到笔记库中。

## 使用方法

1. **选中文本**：在任何网页上选中你想要保存的文本
2. **右键菜单**：右键点击选中的文本，选择"保存到 Notes"
3. **输入笔记名**：在弹出的窗口中输入笔记名称（默认为页面标题）
4. **保存**：点击"保存"按钮，笔记将被保存到本地笔记库

## 保存的内容

保存的笔记会包含以下内容：

1. **来源信息**（引用格式）：
   - 摘录自：页面标题
   - 链接：页面URL

2. **选中的文本内容**：
   - 自动分段处理
   - 保留原文格式

## 自动刷新

如果插件页面已经打开，保存完成后文件树会自动刷新，新保存的笔记会立即显示在列表中。

## 技术实现

- 使用 Chrome Context Menus API
- 使用 Chrome Storage API 存储笔记
- 使用 Chrome Runtime Messaging 实现实时刷新
- 内容以 Yoopta 编辑器格式保存

## 文件说明

- `public/background.js` - 后台脚本，处理右键菜单和消息
- `public/save-selection.html` - 保存对话框页面
- `public/save-selection.js` - 保存逻辑处理
- `src/App.tsx` - 添加了消息监听，实现自动刷新
